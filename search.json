[{"path":"/posts/0.html","content":"å­—èŠ‚ï¼ˆByteï¼‰å’Œä½ï¼ˆBitï¼‰ 1 GB = 1024 MBï¼ŒGBï¼šåƒå…† 1 MB = 1024 KBï¼ŒMBï¼šå…† 1 KB = 1024 Bï¼ŒKBï¼šåƒå­—èŠ‚ï¼ŒB æ˜¯ Byte çš„ç¼©å†™ï¼Œå³å­—èŠ‚ åŸºæœ¬æ•°æ®ç±»å‹\tç±»å‹\tå­—èŠ‚æ•°\tä½æ•°\tå–å€¼èŒƒå›´boolean\tå¸ƒå°”å‹\t1\t8\ttrue &#x2F; falsechar\tå­—ç¬¦å‹\t2\t16\té‡‡ç”¨unicodeç¼–ç ï¼Œå­—ç¬¦çš„å­˜å‚¨èŒƒå›´åœ¨\\u0000\\uFFFFbyte\tæ•´å‹\t1\t8\t-128127short\tæ•´å‹\t2\t16\t32768~32767ï¼ˆ2^{15}int æ•´å‹\t4\t32\t2^{31}long\tæ•´å‹\t8\t64\t2^{63}float\tæµ®ç‚¹å‹\t4\t32\tdouble\tæµ®ç‚¹å‹\t8\t64 å°è£…ã€ç»§æ‰¿å¤šæ€ **å°è£…** ä¸€ä¸ªå¯¹è±¡çš„å±æ€§ç§æœ‰åŒ–ï¼ŒåŒæ—¶æä¾›ä¸€äº›å¯ä»¥è¢«å¤–ç•Œè®¿é—®çš„å±æ€§çš„æ–¹æ³•ï¼Œå¦‚ ç»§æ‰¿å­ç±»æ‹¥æœ‰çˆ¶ç±»é private çš„å±æ€§å’Œæ–¹æ³•ã€‚å­ç±»å¯ä»¥æ‹¥æœ‰è‡ªå·±å±æ€§å’Œæ–¹æ³•ï¼Œå³å­ç±»å¯ä»¥å¯¹çˆ¶ç±»è¿›è¡Œæ‰©å±•ã€‚å­ç±»å¯ä»¥ç”¨è‡ªå·±çš„æ–¹å¼å®ç°çˆ¶ç±»çš„æ–¹æ³•ã€‚ï¼ˆä»¥åä»‹ç»ï¼‰ã€‚ å¤šæ€çˆ¶ç±»æˆ–æ¥å£å®šä¹‰çš„å¼•ç”¨å˜é‡å¯ä»¥æŒ‡å‘å­ç±»æˆ–å…·ä½“å®ç°ç±»çš„å®ä¾‹å¯¹è±¡ã€‚æé«˜äº†ç¨‹åºçš„æ‹“å±•æ€§ã€‚ å¤šæ€æœºåˆ¶ï¼ŸJavaè¯­è¨€æ˜¯å¦‚ä½•å®ç°å¤šæ€çš„ï¼Ÿ å¤šæ€å°±æ˜¯æŒ‡ç¨‹åºä¸­å®šä¹‰çš„å¼•ç”¨å˜é‡æ‰€æŒ‡å‘çš„å…·ä½“ç±»å‹å’Œé€šè¿‡è¯¥å¼•ç”¨å˜é‡å‘å‡ºçš„æ–¹æ³•è°ƒç”¨åœ¨ç¼–ç¨‹æ—¶å¹¶ä¸ç¡®å®šï¼Œè€Œæ˜¯åœ¨ç¨‹åºè¿è¡ŒæœŸé—´æ‰ç¡®å®šï¼Œå³ä¸€ä¸ªå¼•ç”¨å˜é‡å€’åº•ä¼šæŒ‡å‘å“ªä¸ªç±»çš„å®ä¾‹å¯¹è±¡ï¼Œè¯¥å¼•ç”¨å˜é‡å‘å‡ºçš„æ–¹æ³•è°ƒç”¨åˆ°åº•æ˜¯å“ªä¸ªç±»ä¸­å®ç°çš„æ–¹æ³•ï¼Œå¿…é¡»åœ¨ç”±ç¨‹åºè¿è¡ŒæœŸé—´æ‰èƒ½å†³å®šã€‚ Javaå®ç°å¤šæ€æœ‰ä¸‰ä¸ªå¿…è¦æ¡ä»¶ï¼šç»§æ‰¿ã€é‡å†™ã€å‘ä¸Šè½¬å‹ã€‚ç»§æ‰¿ï¼šåœ¨å¤šæ€ä¸­å¿…é¡»å­˜åœ¨æœ‰ç»§æ‰¿å…³ç³»çš„å­ç±»å’Œçˆ¶ç±»ã€‚é‡å†™ï¼šå­ç±»å¯¹çˆ¶ç±»ä¸­æŸäº›æ–¹æ³•è¿›è¡Œé‡æ–°å®šä¹‰ï¼Œåœ¨è°ƒç”¨è¿™äº›æ–¹æ³•æ—¶å°±ä¼šè°ƒç”¨å­ç±»çš„æ–¹æ³•ã€‚å‘ä¸Šè½¬å‹ï¼šåœ¨å¤šæ€ä¸­éœ€è¦å°†å­ç±»çš„å¼•ç”¨èµ‹ç»™çˆ¶ç±»å¯¹è±¡ï¼Œåªæœ‰è¿™æ ·è¯¥å¼•ç”¨æ‰èƒ½å¤Ÿå…·å¤‡æŠ€èƒ½è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•å’Œå­ç±»çš„æ–¹æ³•ã€‚å‘ä¸Šè½¬å‹ï¼šåˆ›å»ºä¸€ä¸ªå­ç±»å¯¹è±¡ï¼Œå°†å…¶å½“æˆçˆ¶ç±»å¯¹è±¡æ¥ä½¿ç”¨ :::infoAnimal animal &#x3D; new Cat()ï¼›Animal æ˜¯çˆ¶ç±»ç±»å‹ï¼Œä½†å¯ä»¥å¼•ç”¨ Cat è¿™ä¸ªå­ç±»ç±»å‹ï¼Œå› ä¸ºæ˜¯ä»å°èŒƒå›´åˆ°å¤§èŒƒå›´çš„è½¬æ¢ã€‚ ::: å°è£…ï¼ˆEncapsulationï¼‰ å®šä¹‰ï¼šå°è£…æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­çš„ä¸€ç§å°†æ•°æ®ï¼ˆå±æ€§ï¼‰å’Œæ“ä½œæ•°æ®çš„æ–¹æ³•å°é—­åœ¨ä¸€èµ·çš„æŠ€æœ¯ï¼Œç›®çš„æ˜¯éšè—å¯¹è±¡çš„å†…éƒ¨ç»†èŠ‚å¹¶ä¿æŠ¤å¯¹è±¡çš„æ•°æ®ã€‚ ä¼˜ç‚¹ï¼šé€šè¿‡å°è£…ï¼Œå¯ä»¥é˜²æ­¢å¤–éƒ¨ä»£ç éšæ„ä¿®æ”¹å¯¹è±¡å†…éƒ¨çš„æ•°æ®ï¼Œæé«˜äº†ä»£ç çš„å®‰å…¨æ€§å’Œå¥å£®æ€§ã€‚åŒæ—¶ï¼Œå°è£…ä¹Ÿæé«˜äº†ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¤ç”¨æ€§ã€‚ ç¤ºä¾‹ï¼šåœ¨Javaä¸­ï¼Œæˆ‘ä»¬é€šå¸¸é€šè¿‡å°†ç±»çš„å˜é‡è®¾ç½®ä¸ºç§æœ‰ï¼ˆprivateï¼‰æ¥éšè—å®ƒä»¬ï¼Œç„¶åé€šè¿‡å…¬å…±ï¼ˆpublicï¼‰æ–¹æ³•ï¼ˆå¦‚getterå’Œsetterï¼‰æ¥è®¿é—®è¿™äº›å˜é‡ã€‚è¿™æ ·ï¼Œå¯ä»¥åœ¨æ–¹æ³•å†…æ·»åŠ é€»è¾‘æ¥æ§åˆ¶å¦‚ä½•åˆé€‚åœ°è¯»å–æˆ–ä¿®æ”¹è¿™äº›å˜é‡ã€‚ ç»§æ‰¿ï¼ˆInheritanceï¼‰ å®šä¹‰ï¼šç»§æ‰¿æ˜¯ä¸€ç§å®ç°ä»£ç å¤ç”¨çš„æœºåˆ¶ï¼Œå…è®¸ä¸€ä¸ªç±»ï¼ˆå­ç±»ï¼‰ç»§æ‰¿å¦ä¸€ä¸ªç±»ï¼ˆçˆ¶ç±»ï¼‰çš„å±æ€§å’Œæ–¹æ³•ã€‚ ä¼˜ç‚¹ï¼šç»§æ‰¿æ”¯æŒä»£ç å¤ç”¨ï¼Œå‡å°‘äº†ä»£ç å†—ä½™ã€‚å®ƒè¿˜æ”¯æŒå¤šæ€æ€§ï¼Œå…¶ä¸­å­ç±»å¯ä»¥å®šä¹‰ç‰¹å®šäºå®ƒä»¬çš„è¡Œä¸ºï¼ŒåŒæ—¶ç»§æ‰¿çˆ¶ç±»çš„åŠŸèƒ½ã€‚ ç¤ºä¾‹ï¼šåœ¨ Java ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªåŸºç±» Animalï¼Œå®ƒåŒ…å«æ‰€æœ‰åŠ¨ç‰©å…±æœ‰çš„æ–¹æ³• eat()ã€‚ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºå¤šä¸ªå­ç±»å¦‚ Dog å’Œ Catï¼Œå®ƒä»¬ç»§æ‰¿ Animal å¹¶å¯é‡å†™ eat() æ–¹æ³•ä»¥è¡¨ç°ä¸åŒåŠ¨ç‰©çš„é¥®é£Ÿä¹ æƒ¯ã€‚ å¤šæ€ï¼ˆPolymorphismï¼‰ å®šä¹‰ï¼šå¤šæ€æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼Œå…è®¸æˆ‘ä»¬ä½¿ç”¨çˆ¶ç±»ç±»å‹çš„å¼•ç”¨æ¥è°ƒç”¨å­ç±»ç±»å‹çš„å¯¹è±¡ï¼Œå®ç°æ¥å£çš„æ–¹æ³•ä¸åŒçš„å…·ä½“å®ç°ã€‚ ä¼˜ç‚¹ï¼šå¤šæ€æ€§å¢åŠ äº†ç¨‹åºçš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ã€‚é€šè¿‡å¤šæ€ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™èƒ½å¤Ÿæ“ä½œçˆ¶ç±»ç±»å‹ä½†å®é™…ä¸Šè¿è¡Œå­ç±»ç‰¹å®šè¡Œä¸ºçš„ä»£ç ï¼Œè¿™æ ·å¯ä»¥å‡å°‘ç¨‹åºçš„å¤æ‚åº¦ï¼Œå¹¶èƒ½é€‚åº”æ›´å¤šçš„åŠŸèƒ½å˜åŒ–ã€‚ ç¤ºä¾‹ï¼šå®šä¹‰ä¸€ä¸ªæ¥å£ Animalï¼Œå®ƒæœ‰ä¸€ä¸ªæ–¹æ³• makeSound()ã€‚ç±» Dog å’Œ Cat å®ç°äº† Animal æ¥å£ï¼Œå„è‡ªå®ç°äº† makeSound() æ–¹æ³•ã€‚åœ¨è¿è¡Œæ—¶ï¼Œé€šè¿‡ Animal çš„å¼•ç”¨è°ƒç”¨ makeSound()ï¼Œæ ¹æ®å¯¹è±¡çš„å®é™…ç±»å‹ï¼Œå¯ä»¥è°ƒç”¨ Dog æˆ– Cat çš„ makeSound() æ–¹æ³•ï¼Œå±•ç¤ºäº†å¤šæ€æ€§ã€‚ æ¥å£å’ŒæŠ½è±¡ç±»æœ‰ä»€ä¹ˆå…±åŒç‚¹å’ŒåŒºåˆ«ï¼Ÿ å…±åŒç‚¹ï¼š éƒ½ä¸èƒ½è¢«å®ä¾‹åŒ–ã€‚ éƒ½å¯ä»¥åŒ…å«æŠ½è±¡æ–¹æ³•ã€‚ éƒ½å¯ä»¥æœ‰é»˜è®¤å®ç°çš„æ–¹æ³•ï¼ˆJava 8 å¯ä»¥ç”¨ default å…³é”®å­—åœ¨æ¥å£ä¸­å®šä¹‰é»˜è®¤æ–¹æ³•ï¼‰ã€‚åŒºåˆ«ï¼š æ¥å£ä¸»è¦ç”¨äºå¯¹ç±»çš„è¡Œä¸ºè¿›è¡Œçº¦æŸï¼Œä½ å®ç°äº†æŸä¸ªæ¥å£å°±å…·æœ‰äº†å¯¹åº”çš„è¡Œä¸ºã€‚æŠ½è±¡ç±»ä¸»è¦ç”¨äºä»£ç å¤ç”¨ï¼Œå¼ºè°ƒçš„æ˜¯æ‰€å±å…³ç³»ã€‚ ä¸€ä¸ªç±»åªèƒ½ç»§æ‰¿ä¸€ä¸ªç±»ï¼Œä½†æ˜¯å¯ä»¥å®ç°å¤šä¸ªæ¥å£ã€‚ æ¥å£ä¸­çš„æˆå‘˜å˜é‡åªèƒ½æ˜¯ public static final ç±»å‹çš„ï¼Œä¸èƒ½è¢«ä¿®æ”¹ä¸”å¿…é¡»æœ‰åˆå§‹å€¼ï¼Œè€ŒæŠ½è±¡ç±»çš„æˆå‘˜å˜é‡é»˜è®¤ defaultï¼Œå¯åœ¨å­ç±»ä¸­è¢«é‡æ–°å®šä¹‰ï¼Œä¹Ÿå¯è¢«é‡æ–°èµ‹å€¼ã€‚ æ¥å£å’ŒæŠ½è±¡ç±»çš„å…±åŒç‚¹ï¼š éƒ½æ˜¯ç”¨äºå®ç°å¤šæ€æ€§çš„æœºåˆ¶ã€‚ éƒ½ä¸èƒ½è¢«å®ä¾‹åŒ–ï¼Œåªèƒ½è¢«å­ç±»ç»§æ‰¿æˆ–å®ç°ã€‚ éƒ½å¯ä»¥åŒ…å«æŠ½è±¡æ–¹æ³•ï¼Œéœ€è¦ç”±å­ç±»æä¾›å…·ä½“çš„å®ç° æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«ï¼š è¯­æ³•ä¸Šçš„åŒºåˆ«ï¼šæ¥å£ä½¿ç”¨ interfaceå…³é”®å­—è¿›è¡Œå£°æ˜ï¼ŒæŠ½è±¡ç±»ä½¿ç”¨ abstractå…³é”®å­—è¿›è¡Œå£°æ˜ã€‚ å®ç°æ–¹å¼çš„åŒºåˆ«ï¼šä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ï¼Œä½†åªèƒ½ç»§æ‰¿ä¸€ä¸ªæŠ½è±¡ç±»ã€‚ æˆå‘˜å˜é‡çš„åŒºåˆ«ï¼šæ¥å£ä¸­åªèƒ½å®šä¹‰å¸¸é‡ï¼ˆå³é™æ€ final å­—æ®µï¼‰ï¼Œè€ŒæŠ½è±¡ç±»å¯ä»¥å®šä¹‰æ™®é€šæˆå‘˜å˜é‡ã€‚ æ„é€ å‡½æ•°çš„åŒºåˆ«ï¼šæ¥å£æ²¡æœ‰æ„é€ å‡½æ•°ï¼Œè€ŒæŠ½è±¡ç±»å¯ä»¥æœ‰æ„é€ å‡½æ•°ã€‚ æ–¹æ³•å®ç°çš„åŒºåˆ«ï¼šæ¥å£ä¸­çš„æ–¹æ³•é»˜è®¤éƒ½æ˜¯å…¬å…±çš„æŠ½è±¡æ–¹æ³•ï¼Œä¸åŒ…å«å…·ä½“çš„å®ç°ä»£ç ï¼›è€ŒæŠ½è±¡ç±»å¯ä»¥åŒ…å«æŠ½è±¡æ–¹æ³•å’ŒéæŠ½è±¡æ–¹æ³•ï¼Œå…¶ä¸­æŠ½è±¡æ–¹æ³•æ²¡æœ‰å…·ä½“çš„å®ç°ï¼Œè€ŒéæŠ½è±¡æ–¹æ³•æœ‰å…·ä½“çš„å®ç°ä»£ç ã€‚ ä½¿ç”¨åœºæ™¯çš„åŒºåˆ«ï¼šæ¥å£é€‚ç”¨äºå®šä¹‰ä¸€ç»„ç›¸å…³çš„æ“ä½œï¼Œå¼ºè°ƒè¡Œä¸ºçš„è§„èŒƒï¼›æŠ½è±¡ç±»é€‚ç”¨äºå®šä¹‰ä¸€ç§é€šç”¨çš„åŸºç¡€ç»“æ„ï¼Œå¼ºè°ƒå­ç±»çš„å…±æ€§ å…«ç§æ•°æ®ç±»å‹ + 4 ç§æ•´æ•°å‹ï¼šbyteã€shortã€intã€long + 2 ç§æµ®ç‚¹å‹ï¼šfloatã€double + 1 ç§å­—ç¬¦ç±»å‹ï¼šchar + 1 ç§å¸ƒå°”å‹ï¼šboolean å¯¹åº”çš„**åŒ…è£…ç±»**åˆ†åˆ«ä¸ºï¼šByteã€Shortã€Integerã€Longã€Floatã€Doubleã€Characterã€Boolean å±äºå¯¹è±¡ï¼› åŒ…è£…å’ŒåŸºæœ¬ç±»å‹çš„åŒºåˆ«ï¼š é»˜è®¤å€¼ï¼šæˆå‘˜å˜é‡åŒ…è£…ç±»å‹ä¸èµ‹å€¼å°±æ˜¯Â nullÂ ï¼Œè€ŒåŸºæœ¬ç±»å‹æœ‰é»˜è®¤å€¼ä¸”ä¸æ˜¯Â nullã€‚æ¯”è¾ƒæ–¹å¼ï¼šå¯¹äºåŸºæœ¬æ•°æ®ç±»å‹æ¥è¯´ï¼Œ&#x3D;&#x3D;Â æ¯”è¾ƒçš„æ˜¯å€¼ã€‚å¯¹äºåŒ…è£…æ•°æ®ç±»å‹æ¥è¯´ï¼Œ&#x3D;&#x3D;Â æ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„å†…å­˜åœ°å€ã€‚æ‰€æœ‰æ•´å‹åŒ…è£…ç±»å¯¹è±¡ä¹‹é—´å€¼çš„æ¯”è¾ƒï¼Œå…¨éƒ¨ç”¨Â equals()Â æ–¹æ³•ï¼› æ‹†ç®±è£…ç®± + è£…ç®±ï¼šå°†åŸºæœ¬ç±»å‹ç”¨å®ƒä»¬å¯¹åº”çš„å¼•ç”¨ç±»å‹åŒ…è£…èµ·æ¥ï¼› + æ‹†ç®±ï¼šå°†åŒ…è£…ç±»å‹è½¬æ¢ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ï¼› + Integer i = 10Â ç­‰ä»·äºÂ Integer i = Integer.valueOf(10) + int n = iÂ ç­‰ä»·äºÂ int n = i.intValue(); åŸºæœ¬æ•°æ®ç±»å‹å’ŒåŒ…è£…ç±»çš„ç”¨å¤„ 1. ä¸€èˆ¬åŒ…è£…ç±»ç”¨åˆ°POJOä¸­ï¼ˆPOJOä¸“æŒ‡åªæœ‰setter/getter/toStringçš„ç®€å•ç±»ï¼ŒåŒ…æ‹¬DO/DTO/BO/VO ç­‰ï¼‰ï¼Œè€ŒåŸºæœ¬ç±»å‹ä¸è¡Œï¼› å› ä¸ºæ•°æ®åº“çš„æŸ¥è¯¢ç»“æœå¯èƒ½æ˜¯nullï¼Œå¦‚æœä½¿ç”¨åŸºæœ¬ç±»å‹çš„è¯ï¼Œå› ä¸ºè¦è‡ªåŠ¨æ‹†ç®±ï¼ˆå°†åŒ…è£…ç±»å‹è½¬ä¸ºåŸºæœ¬ç±»å‹ï¼Œæ¯”å¦‚è¯´æŠŠInteger å¯¹è±¡è½¬æ¢æˆintå€¼ï¼‰ï¼Œå°±ä¼šæŠ›å‡º NullPointerException çš„å¼‚å¸¸ã€‚ 2. åŒ…è£…ç±»å‹å¯ç”¨äºæ³›å‹ï¼Œè€ŒåŸºæœ¬ç±»å‹ä¸å¯ä»¥ï¼›æ³›å‹ä¸èƒ½ä½¿ç”¨åŸºæœ¬ç±»å‹ï¼Œå› ä¸ºä½¿ç”¨åŸºæœ¬ç±»å‹æ—¶ä¼šç¼–è¯‘å‡ºé”™ã€‚ 12List&lt;int&gt; list = new ArrayList&lt;&gt;(); // æç¤º Syntax error, insert &quot;Dimensions&quot; to complete ReferenceTypeList&lt;Integer&gt; list = new ArrayList&lt;&gt;() åŸºæœ¬ç±»å‹åœ¨æ ˆä¸­ç›´æ¥å­˜å‚¨çš„å…·ä½“æ•°å€¼ï¼Œè€ŒåŒ…è£…ç±»å‹åˆ™å­˜å‚¨çš„æ˜¯å †ä¸­çš„å¼•ç”¨ã€‚ç›¸æ¯”è¾ƒäºåŸºæœ¬ç±»å‹è€Œè¨€ï¼ŒåŒ…è£…ç±»å‹éœ€è¦å ç”¨æ›´å¤šçš„å†…å­˜ç©ºé—´ï¼ˆå †ä¸­å ä¸€å—å†…å­˜ï¼Œæ ˆä¸­ä¹Ÿå ç”¨ä¸€å—å†…å­˜ï¼‰ã€‚å‡å¦‚æ²¡æœ‰åŸºæœ¬ç±»å‹çš„è¯ï¼Œå¯¹äºæ•°å€¼è¿™ç±»ç»å¸¸ä½¿ç”¨åˆ°çš„æ•°æ®æ¥è¯´ï¼Œæ¯æ¬¡éƒ½è¦é€šè¿‡newä¸€ä¸ªåŒ…è£…ç±»å‹å°±æ˜¾å¾—éå¸¸ç¬¨é‡ã€‚ é™æ€æ–¹æ³•ä¸ºä»€ä¹ˆä¸èƒ½è°ƒç”¨éé™æ€æˆå‘˜ï¼Ÿ é™æ€æ–¹æ³•å¤–éƒ¨è°ƒç”¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ ç±»å.æ–¹æ³•åÂ çš„æ–¹å¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨Â å¯¹è±¡.æ–¹æ³•åÂ çš„æ–¹å¼ ä½†æ˜¯éé™æ€ å®ä¾‹æ–¹æ³• åªèƒ½ å¯¹è±¡.æ–¹æ³•å ä¹Ÿå°±æ˜¯é™æ€æ–¹æ³•ä¸ç”¨åˆ›å»ºå¯¹è±¡ï¼› åŸå› å¦‚ä¸‹ï¼š é™æ€æ–¹æ³•æ˜¯å±äºç±»çš„ï¼Œåœ¨ç±»åŠ è½½çš„æ—¶å€™å°±ä¼šåˆ†é…å†…å­˜ï¼Œå¯ä»¥é€šè¿‡ç±»åç›´æ¥è®¿é—®ã€‚è€Œéé™æ€æˆå‘˜å±äºå®ä¾‹å¯¹è±¡ï¼Œåªæœ‰åœ¨å¯¹è±¡å®ä¾‹åŒ–ä¹‹åæ‰å­˜åœ¨ï¼Œéœ€è¦é€šè¿‡ç±»çš„å®ä¾‹å¯¹è±¡å»è®¿é—®ã€‚ åœ¨ç±»çš„éé™æ€æˆå‘˜ä¸å­˜åœ¨çš„æ—¶å€™é™æ€æ–¹æ³•å°±å·²ç»å­˜åœ¨äº†ï¼Œæ­¤æ—¶è°ƒç”¨åœ¨å†…å­˜ä¸­è¿˜ä¸å­˜åœ¨çš„éé™æ€æˆå‘˜ï¼Œå±äºéæ³•æ“ä½œã€‚ æ–¹æ³•çš„ä¿®é¥°ç¬¦ï¼ŸåŒºåˆ«ï¼Ÿ public Protected private abstract static native final syncåŒºåˆ«æ˜¯ æƒé™é—®é¢˜ Stringç›¸å…³é—®é¢˜ï¼š **String str=â€œiâ€œä¸ String str=new String(â€œiâ€)ä¸€æ ·å—ï¼Ÿ** ä¸ä¸€æ ·ï¼ŒåŒºåˆ«åœ¨äº å†…å­˜åˆ†é…æ–¹å¼ä¸ä¸€æ ·ï¼›ç¬¬ä¸€ç§æ–¹å¼ï¼ŒJava è™šæ‹Ÿæœºä¼šå°†å…¶åˆ†é…åˆ°å¸¸é‡æ± ä¸­ï¼›ç¬¬äºŒç§åˆ™ä¼šè¢«åˆ†åˆ°å †å†…å­˜ä¸­ã€‚ å› ä¸ºï¼šstr&#x3D;â€œiâ€œ ä¼šæŠŠiå€¼å­˜åœ¨å¸¸é‡æ± ï¼Œåœ°å€èµ‹ç»™str1ã€‚å‡è®¾å†å†™ä¸€ä¸ªString str2&#x3D;â€œiâ€ï¼Œåˆ™ä¼šæŠŠiçš„åœ°å€èµ‹ç»™str2ï¼Œä½†æ˜¯iå¯¹è±¡ä¸ä¼šé‡æ–°åˆ›å»ºï¼Œä»–ä»¬å¼•ç”¨çš„æ˜¯åŒä¸€ä¸ªåœ°å€å€¼ï¼Œå…±äº«åŒä¸€ä¸ªiå†…å­˜String str&#x3D;new String(â€œiâ€)ï¼›ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„iå¯¹è±¡ï¼Œç„¶åå°†æ–°å¯¹è±¡çš„åœ°å€å€¼èµ‹ç»™str3ã€‚è™½ç„¶str3å’Œstr1çš„å€¼ç›¸åŒä½†æ˜¯åœ°å€å€¼ä¸åŒã€‚ **Stringã€StringBufferã€StringBuilderä¹‹é—´çš„åŒºåˆ«** String æ˜¯ è¢«å£°æ˜æˆä¸º final classï¼Œæ‰€æœ‰å±æ€§ä¹Ÿéƒ½æ˜¯ final çš„ã€‚æ˜¯ä¸å¯å˜çš„ï¼Œä¹Ÿç”±äºå®ƒ**çš„ä¸å¯å˜**æ€§ï¼Œç±»ä¼¼æ‹¼æ¥ã€è£å‰ªå­—ç¬¦ä¸²ç­‰åŠ¨ä½œï¼Œéƒ½ä¼šäº§ç”Ÿæ–°çš„ String å¯¹è±¡ã€‚ç”±äºå­—ç¬¦ä¸²æ“ä½œçš„æ™®éæ€§ï¼Œæ‰€ä»¥ç›¸å…³æ“ä½œçš„æ•ˆç‡å¾€å¾€å¯¹åº”ç”¨æ€§èƒ½æœ‰æ˜æ˜¾å½±å“ã€‚**ç”¨åˆ°çš„æœ€å¤š** StringBuffer æ˜¯ä¸ºè§£å†³ä¸Šé¢æåˆ°æ‹¼æ¥äº§ç”Ÿå¤ªå¤šä¸­é—´å¯¹è±¡çš„é—®é¢˜è€Œæä¾›çš„ä¸€ä¸ªç±»ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ append æˆ–è€… add æ–¹æ³•ï¼ŒæŠŠå­—ç¬¦ä¸²æ·»åŠ åˆ°å·²æœ‰åºåˆ—çš„æœ«å°¾æˆ–è€…æŒ‡å®šä½ç½®ã€‚StringBuffer æœ¬è´¨æ˜¯ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„å¯ä¿®æ”¹å­—ç¬¦åºåˆ—ï¼Œå®ƒä¿è¯äº†çº¿ç¨‹å®‰å…¨ï¼Œä¹Ÿéšä¹‹å¸¦æ¥äº†é¢å¤–çš„æ€§èƒ½å¼€é”€ï¼Œæ‰€ä»¥é™¤éæœ‰çº¿ç¨‹å®‰å…¨çš„éœ€è¦ï¼Œä¸ç„¶è¿˜æ˜¯æ¨èä½¿ç”¨å®ƒçš„åç»§è€…ï¼Œä¹Ÿå°±æ˜¯ StringBuilderã€‚ StringBuilder æ˜¯ Java 1.5 ä¸­æ–°å¢çš„ï¼Œåœ¨èƒ½åŠ›ä¸Šå’Œ StringBuffer æ²¡æœ‰æœ¬è´¨åŒºåˆ«ï¼Œä½†æ˜¯å®ƒå»æ‰äº†çº¿ç¨‹å®‰å…¨çš„éƒ¨åˆ†ï¼ˆæ–¹æ³•åŠ äº† sync å…³é”®å­—ï¼‰ï¼Œæœ‰æ•ˆå‡å°äº†å¼€é”€ï¼Œæ˜¯ç»å¤§éƒ¨åˆ†æƒ…å†µä¸‹è¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥çš„é¦–é€‰ã€‚å¤§é‡å­—ç¬¦ä¸²æ‹¼æ¥æ—¶å¸¸ç”¨çš„ã€‚ è¯·æ€»ç»“â¼€ä¸‹ä½¿â½¤åœºæ™¯ Stringï¼šé€‚â½¤äºå­—ç¬¦ä¸²å†…å®¹ä¸ä¼šæ”¹å˜çš„åœºæ™¯ï¼Œâ½å¦‚è¯´ä½œä¸º HashMap çš„ keyã€‚ StringBuilderï¼šé€‚â½¤äºå•çº¿ç¨‹ç¯å¢ƒä¸‹éœ€è¦é¢‘ç¹ä¿®æ”¹å­—ç¬¦ä¸²å†…å®¹çš„åœºæ™¯ï¼Œâ½å¦‚åœ¨å¾ªç¯ä¸­æ‹¼æ¥æˆ–ä¿®æ”¹å­—ç¬¦ä¸²ï¼Œæ˜¯String çš„å®Œç¾æ›¿ä»£å“ã€‚ StringBufferï¼šç°åœ¨å·²ç»ä¸æ€ä¹ˆâ½¤äº†ï¼Œå› ä¸ºâ¼€èˆ¬ä¸ä¼šåœ¨å¤šçº¿ç¨‹åœºæ™¯ä¸‹å»é¢‘ç¹çš„ä¿®æ”¹å­—ç¬¦ä¸²å†…å®¹ **String str = new String(\"abc\")è¿‡ç¨‹** ä½¿ç”¨æ„é€ å‡½æ•°æ„å»ºStringå¯¹è±¡ï¼Œå¦‚String str = new String(\"abc\")ï¼šé€šè¿‡newå…³é”®å­—åˆ›å»ºå­—ç¬¦ä¸²å¯¹è±¡ï¼Œä¼š**å…ˆæ£€æŸ¥å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­æ˜¯å¦æœ‰**ç›¸åŒçš„å­—ç¬¦ä¸²ï¼Œå¦‚æœ**æœ‰ åˆ™æ‹·è´ä¸€ä»½æ”¾åˆ°å †ä¸­**ï¼Œç„¶å**è¿”å›å †ä¸­åœ°å€**ï¼›å¦‚æœæ²¡æœ‰ å°±å…ˆåœ¨å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­**åˆ›å»º\"abc\"è¿™ä¸ªå­—ç¬¦ä¸²**ï¼Œè€Œåå†å¤åˆ¶ä¸€ä»½æ”¾åˆ°å †ä¸­ å¹¶æŠŠå †åœ°å€è¿”å›ç»™str **String str = \"abc\"è¿‡ç¨‹** ä½¿ç”¨å­—ç¬¦ä¸²å­—é¢å€¼åˆ›å»ºStringå¯¹è±¡ï¼Œå¦‚String str = \"abc\"ï¼šjavaä¸­æœ‰ä¸ªå­—ç¬¦ä¸²å¸¸é‡æ± ï¼Œå½“åˆ›å»ºä¸€ä¸ªå­—é¢é‡å­—ç¬¦ä¸²æ—¶ï¼ŒJVMé¦–**å…ˆæ£€æŸ¥å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­æ˜¯å¦å·²ç»å­˜åœ¨è¯¥å­—ç¬¦ä¸²**ï¼Œå¦‚æœå­˜åœ¨ åˆ™ç›´æ¥**è¿”å›å­—ç¬¦ä¸²å¯¹è±¡çš„å¼•ç”¨**ï¼Œå¦åˆ™å°±**åˆ›å»ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²å¯¹è±¡å¹¶æ”¾å…¥å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­ï¼Œ**æœ€ç»ˆå°†è¯¥**å¯¹è±¡çš„å¼•ç”¨èµ‹å€¼ç»™å˜é‡str**ã€‚å¼•ç”¨stræŒ‡å‘å¸¸é‡æ± ä¸­å­—ç¬¦ä¸²\"abc\"çš„åœ°å€ï¼Œæ˜¯åœ¨å¸¸é‡æ± ä¸­æ‹¿å€¼ï¼›å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­ä¸ä¼šå­˜å‚¨ç›¸åŒå†…å®¹çš„å­—ç¬¦ä¸² æ‰€ä»¥String str1&#x3D;â€abcâ€å’ŒString str2&#x3D;new String(â€œabcâ€)åŒºåˆ«å°±æ˜¯ï¼šåˆ›å»ºçš„å¯¹è±¡æ•°é‡ä¸åŒ Listå’Œæ•°ç»„ç›´æ¥å¦‚ä½•äº’ç›¸è½¬æ¢? list-> æ•°ç»„ 1. for å¾ªç¯ 2. toArray()æ–¹æ³• 1234//è¦è½¬æ¢çš„listé›†åˆList&lt;String&gt; testList = new ArrayList&lt;String&gt;() &#123;&#123;add(&quot;aa&quot;);add(&quot;bb&quot;);add(&quot;cc&quot;);&#125;&#125;;//ä½¿ç”¨toArray(T[] a)æ–¹æ³•String[] array2 = testList.toArray(new String[testList.size()]); æ•°ç»„ -> list 1. forå¾ªç¯ 2. asList() 12ArrayList&lt;String&gt; arrayList = new ArrayList&lt;String&gt;(Arrays.asList(arrays));List&lt;String&gt; list = Arrays.asList(arrays); // ä¸æ¨èä½¿ç”¨ streamæ–¹æ³• ç¿»è½¬å­—ç¬¦ä¸² StringBuilder è‡ªå¸¦çš„ revers æ–¹æ³• tocharArray æ–¹æ³• + for å¾ªç¯å€’åºè¾“å‡º æ ˆ JAVA åå°„ Javaçš„Â åå°„æœºåˆ¶Â æ˜¯åœ¨è¿è¡ŒçŠ¶æ€ä¸­ï¼Œå¯¹äºä»»æ„ä¸€ä¸ªç±»ï¼Œéƒ½èƒ½å¤ŸÂ çŸ¥é“è¿™ä¸ªç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•Â ï¼›å¯¹äºä»»æ„ä¸€ä¸ªå¯¹è±¡ï¼Œéƒ½èƒ½å¤ŸÂ è°ƒç”¨å®ƒçš„ä»»æ„ä¸€ä¸ªæ–¹æ³•å’Œå±æ€§Â ï¼›è¿™ç§Â åŠ¨æ€è·å–çš„ä¿¡æ¯ä»¥åŠåŠ¨æ€è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•çš„åŠŸèƒ½Â ç§°ä¸º Java è¯­è¨€çš„åå°„æœºåˆ¶ã€‚ åå°„å…è®¸ Java åœ¨è¿â¾æ—¶æ£€æŸ¥å’Œæ“ä½œç±»çš„â½…æ³•å’Œå­—æ®µã€‚é€šè¿‡åå°„ï¼Œå¯ä»¥åŠ¨æ€åœ°è·å–ç±»çš„å­—æ®µã€â½…æ³•ã€æ„é€ â½…æ³•ç­‰ä¿¡æ¯ï¼Œå¹¶åœ¨è¿â¾æ—¶è°ƒâ½¤â½…æ³•æˆ–è®¿é—®å­—æ®µã€‚ åå°„çš„å…³é”®å®ç°æ–¹æ³•æœ‰ä»¥ä¸‹å‡ ä¸ªï¼š 1. å¾—åˆ°ç±»ï¼šClass.forName(\"ç±»å\") 2. å¾—åˆ°æ‰€æœ‰å­—æ®µï¼šgetDeclaredFields() 3. å¾—åˆ°æ‰€æœ‰æ–¹æ³•ï¼šgetDeclaredMethods() 4. å¾—åˆ°æ„é€ æ–¹æ³•ï¼šgetDeclaredConstructor() 5. å¾—åˆ°å®ä¾‹ï¼šnewInstance() 6. è°ƒç”¨æ–¹æ³•ï¼šinvoke() å®ä¾‹åŒ–æ–¹æ³•ï¼ˆäº”ç§ï¼‰ï¼š 1ã€ç”¨newè¯­å¥åˆ›å»ºå¯¹è±¡ 2ã€ä½¿ç”¨Classç±»çš„newInstanceæ–¹æ³• 3ã€ä½¿ç”¨Constructorç±»çš„newInstanceæ–¹æ³•ï¼ˆè¿ç”¨åå°„æ‰‹æ®µï¼‰ 4ã€è°ƒç”¨å¯¹è±¡çš„clone()æ–¹æ³• 5ã€ä½¿ç”¨ååºåˆ—åŒ– å…¶ä¸­ åå°„åˆ›å»º ç”¨Â ClassÂ å¯¹è±¡çš„Â newInstanceÂ æ–¹æ³•ã€‚ ç”¨Â ConstructorÂ å¯¹è±¡çš„Â newInstanceÂ æ–¹æ³• 12345678910111213141516171819public class NewInstanceDemo &#123; public static void main(String[] args) throws IllegalAccessException, InstantiationException, NoSuchMethodException, InvocationTargetException &#123; Class&lt;?&gt; c1 = StringBuilder.class; StringBuilder sb = (StringBuilder) c1.newInstance(); // `newInstance` sb.append(&quot;aaa&quot;); System.out.println(sb.toString()); //è·å–Stringæ‰€å¯¹åº”çš„Classå¯¹è±¡ Class&lt;?&gt; c2 = String.class; //è·å–Stringç±»å¸¦ä¸€ä¸ªStringå‚æ•°çš„æ„é€ å™¨ Constructor constructor = c2.getConstructor(String.class); // `Constructor`å¯¹è±¡æ–¹æ³• //æ ¹æ®æ„é€ å™¨åˆ›å»ºå®ä¾‹ String str2 = (String) constructor.newInstance(&quot;bbb&quot;); System.out.println(str2); &#125;&#125; å¼•ç”¨ç±»å‹æœ‰å“ªäº›ï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ å¼•ç”¨ç±»å‹ä¸»è¦åˆ†ä¸ºå¼ºè½¯å¼±è™šå››ç§ï¼š **å¼ºå¼•ç”¨ **æŒ‡çš„å°±æ˜¯ä»£ç ä¸­æ™®éå­˜åœ¨çš„èµ‹å€¼æ–¹å¼ï¼Œä½¿â½¤ new å…³é”®å­—èµ‹å€¼çš„å¼•â½¤å°±æ˜¯å¼ºå¼•â½¤ 12// str å°±æ˜¯â¼€ä¸ªå¼ºå¼•â½¤ String str = new String(&quot;æ²‰é»˜ç‹â¼†&quot;); åªè¦å¼ºå¼•â½¤å…³è”ç€å¯¹è±¡ï¼Œåƒåœ¾æ”¶é›†å™¨å°±ä¸ä¼šå›æ”¶è¿™éƒ¨åˆ†å¯¹è±¡ï¼Œå³ä½¿å†…å­˜ä¸â¾œã€‚ è½¯å¼•ç”¨ é€šè¿‡ SoftReference ç±»å®ç°ã€‚è½¯å¼•â½¤çš„å¯¹è±¡åœ¨å†…å­˜ä¸â¾œæ—¶ä¼šè¢«å›æ”¶ã€‚ 12// softRef å°±æ˜¯â¼€ä¸ªè½¯å¼•â½¤SoftReference&lt;String&gt; softRef = new SoftReference&lt;&gt;(new String(&quot;æ²‰é»˜ç‹â¼†&quot;)); æŒ‡çš„æ˜¯é‚£äº›æœ‰ç”¨ä½†æ˜¯ä¸æ˜¯å¿…é¡»è¦çš„å¯¹è±¡ã€‚ç³»ç»Ÿåœ¨å‘ç”Ÿå†…å­˜æº¢å‡ºå‰ä¼šå¯¹è¿™ç±»å¼•ç”¨çš„å¯¹è±¡è¿›è¡Œå›æ”¶ã€‚ å¼±å¼•ç”¨å¯ä»¥ç”¨ **WeakReference **æ¥æè¿°ï¼Œä»–çš„å¼ºåº¦æ¯”è½¯å¼•ç”¨æ›´ä½ä¸€ç‚¹ï¼Œå¼±å¼•ç”¨çš„å¯¹è±¡ä¸‹ä¸€æ¬¡GCçš„æ—¶å€™ä¸€å®šä¼šè¢«å›æ”¶ï¼Œè€Œä¸ç®¡å†…å­˜æ˜¯å¦è¶³å¤Ÿã€‚ 1234567891011static class Entry extends WeakReference&lt;ThreadLocal&lt;?&gt;&gt; &#123; /** The value associated with this ThreadLocal. */ Object value; //èŠ‚ç‚¹ç±» Entry(ThreadLocal&lt;?&gt; k, Object v) &#123; //keyèµ‹å€¼ super(k); //valueèµ‹å€¼ value = v; &#125;&#125; è™šå¼•ç”¨ä¹Ÿè¢«ç§°ä½œå¹»å½±å¼•ç”¨ï¼Œæ˜¯æœ€å¼±çš„å¼•ç”¨å…³ç³»ï¼Œå¯ä»¥ç”¨ PhantomReference æ¥æè¿°ï¼Œä»–å¿…é¡»å’ŒReferenceQueueä¸€èµ·ä½¿ç”¨ï¼ŒåŒæ ·çš„å½“å‘ç”ŸGCçš„æ—¶å€™ï¼Œè™šå¼•ç”¨ä¹Ÿä¼šè¢«å›æ”¶ã€‚å¯ä»¥ç”¨è™šå¼•ç”¨æ¥ç®¡ç†å †å¤–å†…å­˜ã€‚ æ·±æ‹·è´å’Œæµ…æ‹·è´ **æµ…æ‹·è´**æ˜¯æŒ‡æˆ‘ä»¬æ‹·è´å‡ºæ¥çš„å¯¹è±¡å†…éƒ¨çš„å¼•ç”¨ç±»å‹å˜é‡å’ŒåŸæ¥**å¯¹è±¡å†…éƒ¨å¼•ç”¨ç±»å‹å˜é‡æ˜¯åŒä¸€å¼•ç”¨**ï¼ˆæŒ‡å‘åŒä¸€å¯¹è±¡ï¼‰ï¼Œ ä½†æ˜¯æˆ‘ä»¬æ‹·è´å‡ºæ¥çš„å¯¹è±¡å’Œæ–°å¯¹è±¡ä¸æ˜¯åŒä¸€å¯¹è±¡; æ–°ï¼ˆæ‹·è´äº§ç”Ÿï¼‰ã€æ—§ï¼ˆå…ƒå¯¹è±¡ï¼‰å¯¹è±¡ä¸åŒï¼Œä½†æ˜¯å†…éƒ¨å¦‚æœæœ‰å¼•ç”¨ç±»å‹çš„å˜é‡ï¼Œæ–°ã€æ—§å¯¹è±¡å¼•ç”¨çš„éƒ½æ˜¯åŒä¸€å¼•ç”¨ **æ·±æ‹·è´**: å…¨éƒ¨æ‹·è´åŸå¯¹è±¡çš„å†…å®¹ï¼ŒåŒ…æ‹¬å†…å­˜çš„å¼•ç”¨ç±»å‹ä¹Ÿè¿›è¡Œæ‹·è´ æµ…æ‹·â»‰ä¼šåˆ›å»ºâ¼€ä¸ªæ–°å¯¹è±¡ï¼Œä½†è¿™ä¸ªæ–°å¯¹è±¡çš„å±æ€§ï¼ˆå­—æ®µï¼‰å’ŒåŸå¯¹è±¡çš„å±æ€§å®Œå…¨ç›¸åŒã€‚å¦‚æœå±æ€§æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œæ‹·â»‰çš„æ˜¯åŸºæœ¬æ•°æ®ç±»å‹çš„å€¼ï¼›å¦‚æœå±æ€§æ˜¯å¼•â½¤ç±»å‹ï¼Œæ‹·â»‰çš„æ˜¯å¼•â½¤åœ°å€ï¼Œå› æ­¤æ–°æ—§å¯¹è±¡å…±äº«åŒâ¼€ä¸ªå¼•â½¤å¯¹è±¡ã€‚ clone æ–¹æ³•é»˜è®¤æ˜¯æµ…æ‹·è´ clone æ–¹æ³•**é»˜è®¤æ˜¯æµ…æ‹·è´**çš„ï¼Œå³è¿”å›ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œä½†æ˜¯æ–°å¯¹è±¡é‡Œçš„å¼•ç”¨ç±»å‹å˜é‡åœ°å€æŒ‡å‘çš„è¿˜æ˜¯åŸå¯¹è±¡å†…å¼•ç”¨ç±»å‹åœ°å€ æµ…æ‹·è´é€šå¸¸é€šè¿‡Â `Object`**Â ç±»ä¸­çš„Â **`clone()`**Â æ–¹æ³•**Â å®ç°ã€‚é»˜è®¤çš„Â `clone()`Â æ–¹æ³•ä¼šè¿›è¡Œæµ…æ‹·è´ã€‚ clone()æ–¹æ³•çš„æ·±æ‹·è´ éœ€è¦æ‰‹åŠ¨è¦†ç›–Â `clone()`Â æ–¹æ³•ï¼Œç¡®ä¿å¯¹å¼•ç”¨ç±»å‹è¿›è¡Œé€’å½’æ‹·è´ã€‚ 12345678910111213141516171819202122232425262728293031323334class Person implements Cloneable &#123; String name; int age; Address address; // å¼•ç”¨ç±»å‹ public Person(String name, int age, Address address) &#123; this.name = name; this.age = age; this.address = address; &#125; // è¦†ç›– clone() æ–¹æ³•å®ç°æ·±æ‹·è´ @Override protected Object clone() throws CloneNotSupportedException &#123; // é¦–å…ˆæµ…æ‹·è´åŸºæœ¬å­—æ®µ Person clonedPerson = (Person) super.clone(); // é€’å½’æ‹·è´å¼•ç”¨ç±»å‹çš„å­—æ®µ clonedPerson.address = (Address) this.address.clone(); return clonedPerson; // è¿”å›å®Œå…¨ç‹¬ç«‹çš„å‰¯æœ¬ &#125;&#125;class Address implements Cloneable &#123; String city; public Address(String city) &#123; this.city = city; &#125; @Override protected Object clone() throws CloneNotSupportedException &#123; return super.clone(); // Address çš„æµ…æ‹·è´ &#125;&#125; JDK 17çš„ä¸»è¦æ–°ç‰¹æ€§ + æ¨¡å¼åŒ¹é…ï¼šå¼•å…¥äº†æ¨¡å¼åŒ¹é…ç‰¹æ€§ï¼Œç®€åŒ–äº†ä»£ç ç¼–å†™ã€‚ + å¯†å°ç±»ï¼šå¢å¼ºäº†ç±»å‹å®‰å…¨ï¼Œé™åˆ¶äº†ç»§æ‰¿èŒƒå›´ã€‚ + å¼‚å¸¸å¤„ç†ï¼šæ”¹è¿›äº†å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œä½¿å¾—é”™è¯¯å¤„ç†æ›´åŠ çµæ´»ã€‚ + I/Oç‰¹æ€§ï¼šå¼•å…¥äº†æ–°çš„æ–‡ä»¶ç³»ç»ŸAPIå’Œç®¡é“APIï¼Œå¢å¼ºäº†I/Oæ“ä½œã€‚ + å¼ºå°è£…ï¼šé™åˆ¶äº†å†…éƒ¨APIçš„å¯è§æ€§ï¼Œæé«˜äº†æ¨¡å—åŒ–ç¨‹åº¦ã€‚ + å¤–éƒ¨å‡½æ•°å’Œå†…å­˜APIï¼šæå‡äº†ä¸æœ¬åœ°ä»£ç çš„äº’æ“ä½œæ€§ï¼Œå¢å¼ºäº†æ€§èƒ½ã€‚ + åƒåœ¾æ”¶é›†å™¨æ”¹è¿›ï¼šå¯¹G1å’ŒZGCåƒåœ¾æ”¶é›†å™¨è¿›è¡Œäº†ä¼˜åŒ– JDK 8 æ–°ç‰¹æ€§ Futureæ˜¯ä»€ä¹ˆ ç”¨äºå¼‚æ­¥ç»“æœçš„è·å–; Future ä»£è¡¨çš„æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ç»“æœï¼Œæ„æ€æ˜¯å½“å¼‚æ­¥æ‰§è¡Œç»“æŸä¹‹åï¼Œè¿”å›çš„ç»“æœå°†ä¼šä¿å­˜åœ¨ Future ä¸­ã€‚ callabel æ¯” runnable å¤šäº†ä¸ªè¿”å›å€¼; å¹¶ä¸”`Callable`æ¥å£æ˜¯ä¸€ä¸ªæ³›å‹æ¥å£ï¼Œå¯ä»¥**è¿”å›æŒ‡å®šç±»å‹çš„ç»“æœã€‚** ä¹‹å `ExecutorService.submit()`æ–¹æ³•ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå®ƒè¿”å›äº†ä¸€ä¸ª`Future`ç±»å‹ï¼Œä¸€ä¸ª`Future`ç±»å‹çš„å®ä¾‹ä»£è¡¨ä¸€ä¸ªæœªæ¥èƒ½è·å–ç»“æœçš„å¯¹è±¡: 1234567ExecutorService executor = Executors.newFixedThreadPool(4); // å®šä¹‰ä»»åŠ¡:Callable&lt;String&gt; task = new Task();// æäº¤ä»»åŠ¡å¹¶è·å¾—Future:Future&lt;String&gt; future = executor.submit(task);// ä»Futureè·å–å¼‚æ­¥æ‰§è¡Œè¿”å›çš„ç»“æœ:String result = future.get(); // å¯èƒ½é˜»å¡ å½“æˆ‘ä»¬æäº¤ä¸€ä¸ªCallableä»»åŠ¡åï¼Œæˆ‘ä»¬ä¼šåŒæ—¶è·å¾—ä¸€ä¸ªFutureå¯¹è±¡ï¼Œç„¶åï¼Œæˆ‘ä»¬åœ¨ä¸»çº¿ç¨‹æŸä¸ªæ—¶åˆ»è°ƒç”¨Futureå¯¹è±¡çš„get()æ–¹æ³•ï¼Œå°±å¯ä»¥è·å¾—å¼‚æ­¥æ‰§è¡Œçš„ç»“æœã€‚åœ¨è°ƒç”¨get()æ—¶ï¼Œå¦‚æœå¼‚æ­¥ä»»åŠ¡å·²ç»å®Œæˆï¼Œæˆ‘ä»¬å°±ç›´æ¥è·å¾—ç»“æœã€‚å¦‚æœå¼‚æ­¥ä»»åŠ¡è¿˜æ²¡æœ‰å®Œæˆï¼Œé‚£ä¹ˆget()ä¼šé˜»å¡ï¼Œç›´åˆ°ä»»åŠ¡å®Œæˆåæ‰è¿”å›ç»“æœã€‚ Callable + ExecutorService.submit() -&gt; Future Java8çš„CompletableFuture é—®é¢˜: ä½¿ç”¨`Future`è·å¾—å¼‚æ­¥æ‰§è¡Œç»“æœæ—¶ï¼Œè¦ä¹ˆè°ƒç”¨é˜»å¡æ–¹æ³•`get()`ï¼Œè¦ä¹ˆè½®è¯¢çœ‹`isDone()`æ˜¯å¦ä¸º`true`ï¼Œè¿™ä¸¤ç§æ–¹æ³•éƒ½ä¸æ˜¯å¾ˆå¥½ï¼Œå› ä¸ºä¸»çº¿ç¨‹ä¹Ÿä¼šè¢«è¿«ç­‰å¾…ã€‚ java8æ–°å¼•å…¥çš„å·¥å…·, æ˜¯å¯¹Futureçš„æ‰©å±•å’Œå¢å¼ºã€‚æä¾›äº†æ›´ç»†è‡´çš„æ“æ§;ç»„ç»‡ä¸åŒä»»åŠ¡çš„è¿è¡Œé¡ºåºã€è§„åˆ™ä»¥åŠæ–¹å¼(CountDownLatchä¹Ÿå¯ä»¥) CompletableFutureå¯ä»¥æŒ‡å®šå¼‚æ­¥å¤„ç†æµç¨‹ï¼š thenAccept()å¤„ç†æ­£å¸¸ç»“æœï¼› exceptional()å¤„ç†å¼‚å¸¸ç»“æœï¼› thenApplyAsync()ç”¨äºä¸²è¡ŒåŒ–å¦ä¸€ä¸ªCompletableFutureï¼› anyOf()å’ŒallOf()ç”¨äºå¹¶è¡ŒåŒ–å¤šä¸ªCompletableFutureã€‚ å¦‚ä½•ä½¿ç”¨CompletableFutureå®ç°è°ƒç”¨ä¸€ä¸ªæ¥å£ï¼Œè¿‡ä¸€æ®µæ—¶é—´æ²¡å®Œæˆå°±è¶…æ—¶è¿”å›ï¼Œä¸­æ–­æ‰§è¡Œä»»åŠ¡çš„çº¿ç¨‹è¿™ä¸ªåŠŸèƒ½ï¼Ÿ java8ä¸­æ²¡æœ‰ CompletableFuture å¹¶æ²¡æœ‰ timeout æœºåˆ¶; å¯ä»¥åœ¨åœ¨ get çš„æ—¶å€™æŒ‡å®š timeout java9 å¼•å…¥äº†Â `orTimeout`Â å’ŒÂ `completeOnTimeOut`Â ä¸¤ä¸ªæ–¹æ³•æ”¯æŒ å¼‚æ­¥ timeout æœºåˆ¶ orTimeout: åœ¨æŒ‡å®šçš„è¶…æ—¶æ—¶é—´è¿‡å»åï¼Œä½¿ç”¨TimeoutExceptionå®ŒæˆCompletableFutureã€‚completeOnTimeOut:åœ¨CompletableFutureç®¡é“è¶…æ—¶çš„æƒ…å†µä¸‹è¿”å›ä¸€ä¸ªæŒ‡å®šçš„é»˜è®¤å€¼ã€‚ ä½¿ç”¨ä¾‹å­ 1234567891011121314151617181920212223242526272829303132333435363738394041public class OrTimeoutMethodTest &#123; public static void main(String args[]) throws InterruptedException &#123; int a = 10; int b = 15; CompletableFuture.supplyAsync(() -&gt; &#123; try &#123; TimeUnit.SECONDS.sleep(5); &#125; catch(InterruptedException e) &#123; e.printStackTrace(); &#125; return a + b; &#125;) .orTimeout(4, TimeUnit.SECONDS) .whenComplete((result, exception) -&gt; &#123; System.out.println(result); if(exception != null) exception.printStackTrace(); &#125;); TimeUnit.SECONDS.sleep(10); &#125;&#125;public class CompleteOnTimeOutMethodTest &#123; public static void main(String args[]) throws InterruptedException &#123; int a = 10; int b = 15; CompletableFuture.supplyAsync(() -&gt; &#123; try &#123; TimeUnit.SECONDS.sleep(5); &#125; catch(InterruptedException e) &#123; e.printStackTrace(); &#125; return a + b; &#125;) .completeOnTimeout(0, 4, TimeUnit.SECONDS) .thenAccept(result -&gt; System.out.println(result)); TimeUnit.SECONDS.sleep(10); &#125;&#125; javaå¼‚å¸¸å¤„ç† ![](https://cdn.nlark.com/yuque/0/2024/png/42573811/1734607922116-685f8f57-ade4-456c-8538-80edf49d02f0.png) Exceptionã€Error å’Œ Throwable **Throwable** æ˜¯å¼‚å¸¸å’Œé”™è¯¯çš„è¶…ç±»ï¼Œæœ‰ä¸¤ä¸ª**å­ç±» Exception å’Œ Error** Exceptionï¼ˆå¼‚å¸¸ï¼‰ï¼šJavaå¼‚å¸¸åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼šï¼ˆç¼–è¯‘æ—¶å¼‚å¸¸ã€è¿è¡Œæ—¶å¼‚å¸¸ï¼‰ ç¼–è¯‘æ—¶å¼‚å¸¸ï¼šæ˜¯æŒ‡åœ¨ç¼–è¯‘æ—¶å¼ºåˆ¶æ£€æŸ¥çš„å¼‚å¸¸ï¼Œå¿…é¡»åœ¨ä»£ç ä¸­æ˜¾å¼åœ°å¤„ç†æˆ–å£°æ˜æŠ›å‡ºã€‚ä¾‹å¦‚ï¼ŒIOExceptionå’ŒSQLExceptionå°±æ˜¯å·²æ£€æŸ¥å¼‚å¸¸ã€‚ å¦‚æœâ½…æ³•å¯èƒ½æŠ›å‡ºæŸç§ç¼–è¯‘æ—¶å¼‚å¸¸ï¼Œä½†æ²¡æœ‰æ•è·å®ƒï¼ˆtry-catchï¼‰æˆ–æ²¡æœ‰åœ¨â½…æ³•å£°æ˜ä¸­â½¤ throws â¼¦å¥å£°æ˜å®ƒï¼Œé‚£ä¹ˆç¼–è¯‘å°†ä¸ä¼šé€šè¿‡ã€‚ä¾‹å¦‚ï¼šIOExceptionã€SQLException ç­‰ã€‚ è¿è¡Œæ—¶å¼‚å¸¸ï¼šæ˜¯æŒ‡åœ¨ç¼–è¯‘æ—¶ä¸å¼ºåˆ¶æ£€æŸ¥çš„å¼‚å¸¸ï¼Œä¸éœ€è¦åœ¨ä»£ç ä¸­æ˜¾å¼åœ°å¤„ç†æˆ–å£°æ˜æŠ›å‡ºã€‚è¿™ç±»å¼‚å¸¸åœ¨è¿â¾æ—¶æŠ›å‡ºï¼Œå®ƒä»¬éƒ½æ˜¯ RuntimeException çš„â¼¦ç±»ã€‚å¯¹äºè¿â¾æ—¶å¼‚å¸¸ï¼ŒJava ç¼–è¯‘å™¨ä¸è¦æ±‚å¿…é¡»å¤„ç†å®ƒä»¬ï¼ˆå³ä¸éœ€è¦æ•è·ä¹Ÿä¸éœ€è¦å£°æ˜æŠ›å‡ºï¼‰ å¸¸è§çš„æœªæ£€æŸ¥å¼‚å¸¸åŒ…æ‹¬NullPointerExceptionã€ArrayIndexOutOfBoundsExceptionå’Œ ArithmeticExceptionç­‰ã€‚ Errorï¼ˆé”™è¯¯ï¼‰ï¼šErrorä¹Ÿæ˜¯ Java ä¸­çš„ä¸€ä¸ªç±»ï¼Œè¡¨ç¤ºé€šå¸¸è¶…å‡ºç¨‹åºæ§åˆ¶èŒƒå›´çš„ä¸¥é‡é—®é¢˜ã€‚é”™è¯¯é€šå¸¸æ˜¯ç”±å¤–éƒ¨å› ç´ æˆ–JVMæˆ–ç³»ç»Ÿçš„åŸºæœ¬é—®é¢˜å¼•èµ·çš„ã€‚é”™è¯¯çš„ä¾‹å­åŒ…æ‹¬ OutOfMemoryError å’Œ StackOverflowErrorã€‚ä¸å¼‚å¸¸ä¸åŒï¼Œé”™è¯¯é€šå¸¸ä¸åº”è¯¥è¢«ç¨‹åºæ•è·å’Œå¤„ç†ï¼Œå› ä¸ºå®ƒä»¬è¡¨ç¤ºä¸¥é‡çš„é—®é¢˜ï¼Œå¯èƒ½æ˜¯æ— æ³•æ¢å¤çš„ã€‚ å¸¸è§ Exceptionã€ Error **Exceptionï¼š** ğŸŒ´ NullPointerExceptionï¼ˆç©ºæŒ‡é’ˆå¼‚å¸¸ï¼‰ï¼šå½“å°è¯•ä½¿ç”¨ç©ºå¼•ç”¨è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•æˆ–è®¿é—®å¯¹è±¡çš„å­—æ®µæ—¶æŠ›å‡ºã€‚ ğŸŒ´ ArrayIndexOutOfBoundsExceptionï¼ˆæ•°ç»„è¶Šç•Œå¼‚å¸¸ï¼‰ï¼šå½“å°è¯•è®¿é—®æ•°ç»„ä¸­ä¸å­˜åœ¨çš„ç´¢å¼•æ—¶æŠ›å‡ºã€‚ ğŸŒ´ IllegalArgumentExceptionï¼ˆéæ³•å‚æ•°å¼‚å¸¸ï¼‰ï¼šå½“ä¼ é€’ç»™æ–¹æ³•çš„å‚æ•°ä¸æ»¡è¶³æ–¹æ³•çš„è¦æ±‚æ—¶æŠ›å‡ºã€‚ ğŸŒ´ IllegalStateExceptionï¼ˆéæ³•çŠ¶æ€å¼‚å¸¸ï¼‰ï¼šå½“å¯¹è±¡çš„çŠ¶æ€ä¸ç¬¦åˆæ–¹æ³•è°ƒç”¨çš„å‰ææ¡ä»¶æ—¶æŠ›å‡ºã€‚ ğŸŒ´ IOExceptionï¼ˆè¾“å…¥è¾“å‡ºå¼‚å¸¸ï¼‰ï¼šåœ¨å¤„ç†è¾“å…¥è¾“å‡ºæ“ä½œæ—¶å‘ç”Ÿé”™è¯¯æ—¶æŠ›å‡ºã€‚ ğŸŒ´ ClassNotFoundExceptionï¼ˆç±»æœªæ‰¾åˆ°å¼‚å¸¸ï¼‰ï¼šå½“å°è¯•åŠ è½½ä¸å­˜åœ¨çš„ç±»æ—¶æŠ›å‡ºã€‚ ğŸŒ´ InterruptedExceptionï¼ˆä¸­æ–­å¼‚å¸¸ï¼‰ï¼šåœ¨çº¿ç¨‹ç­‰å¾…ã€ä¼‘çœ æˆ–é˜»å¡çš„è¿‡ç¨‹ä¸­è¢«ä¸­æ–­æ—¶æŠ›å‡ºã€‚ ğŸŒ´ SQLExceptionï¼ˆSQLå¼‚å¸¸ï¼‰ï¼šåœ¨è®¿é—®æ•°æ®åº“æ—¶å‘ç”Ÿé”™è¯¯æ—¶æŠ›å‡ºã€‚ ğŸŒ´ FileNotFoundExceptionï¼ˆæ–‡ä»¶æœªæ‰¾åˆ°å¼‚å¸¸ï¼‰ï¼šå½“å°è¯•è®¿é—®ä¸å­˜åœ¨çš„æ–‡ä»¶æ—¶æŠ›å‡ºã€‚ ğŸŒ´ ArithmeticExceptionï¼ˆç®—æœ¯å¼‚å¸¸ï¼‰ï¼šåœ¨ç®—æœ¯æ“ä½œä¸­å‡ºç°é”™è¯¯æ—¶æŠ›å‡ºï¼Œä¾‹å¦‚é™¤ä»¥é›¶ã€‚ Errorï¼šğŸŒ´ OutOfMemoryErrorï¼ˆå†…å­˜æº¢å‡ºé”™è¯¯ï¼‰ï¼šå½“Javaè™šæ‹Ÿæœºæ— æ³•ä¸ºå¯¹è±¡åˆ†é…è¶³å¤Ÿçš„å†…å­˜ç©ºé—´æ—¶æŠ›å‡ºã€‚ğŸŒ´ StackOverflowErrorï¼ˆæ ˆæº¢å‡ºé”™è¯¯ï¼‰ï¼šå½“æ–¹æ³•è°ƒç”¨çš„è°ƒç”¨æ ˆè¶…è¿‡å…¶é™åˆ¶æ—¶æŠ›å‡ºï¼Œé€šå¸¸æ˜¯ç”±äºé€’å½’è°ƒç”¨å¯¼è‡´çš„ã€‚ğŸŒ´ NoClassDefFoundErrorï¼ˆç±»æœªå®šä¹‰é”™è¯¯ï¼‰ï¼šå½“Javaè™šæ‹Ÿæœºæ— æ³•æ‰¾åˆ°ç±»çš„å®šä¹‰æ—¶æŠ›å‡ºï¼Œé€šå¸¸æ˜¯ç”±äºç±»è·¯å¾„é…ç½®é”™è¯¯æˆ–ç±»æ–‡ä»¶ç¼ºå¤±å¼•èµ·çš„ã€‚ğŸŒ´ LinkageErrorï¼ˆé“¾æ¥é”™è¯¯ï¼‰ï¼šå½“Javaè™šæ‹Ÿæœºåœ¨ç±»åŠ è½½è¿‡ç¨‹ä¸­é‡åˆ°é“¾æ¥é”™è¯¯æ—¶æŠ›å‡ºï¼Œä¾‹å¦‚ç±»ä¸å…¶ä¾èµ–çš„ç±»ä¸å…¼å®¹ã€‚ğŸŒ´ AssertionErrorï¼ˆæ–­è¨€é”™è¯¯ï¼‰ï¼šå½“æ–­è¨€è¯­å¥å¤±è´¥æ—¶æŠ›å‡ºï¼Œé€šå¸¸ç”¨äºåœ¨ä»£ç ä¸­æ£€æŸ¥é¢„æœŸçš„æ¡ä»¶æ˜¯å¦æ»¡è¶³ã€‚ğŸŒ´ VirtualMachineErrorï¼ˆè™šæ‹Ÿæœºé”™è¯¯ï¼‰ï¼šè¡¨ç¤ºJavaè™šæ‹Ÿæœºå†…éƒ¨å‘ç”Ÿäº†é”™è¯¯ï¼Œä¾‹å¦‚æ ˆæº¢å‡ºã€åƒåœ¾å›æ”¶å¤±è´¥ç­‰ã€‚ğŸŒ´ InternalErrorï¼ˆå†…éƒ¨é”™è¯¯ï¼‰ï¼šè¡¨ç¤ºJavaè™šæ‹Ÿæœºå†…éƒ¨å‘ç”Ÿäº†ä¸¥é‡çš„é”™è¯¯ï¼Œæ— æ³•æ¢å¤ã€‚ try-catch-final try-catch-finalå“ªäº›å¯ä»¥çœç•¥ ä»¥ä¸‹ä¸‰ç§æƒ…å†µéƒ½æ˜¯å¯ä»¥çš„ï¼š try-catch try-finally try-catch-finally å¯ä»¥çœç•¥catchæˆ–è€…finallyï¼Œcatchå’Œfinallyä¸å¯ä»¥åŒæ—¶çœç•¥ã€‚ finallyæ˜¯å¿…é¡»çš„å—ï¼Œä»€ä¹ˆæ—¶å€™åŠ ä¸Š finallyå¹¶ä¸æ˜¯å¿…é¡»çš„ï¼Œfinallyé‡Œä¸€èˆ¬æ‹¿æ¥åšä¸€äº›å–„åæ¸…ç†å·¥ä½œ tryå—é‡Œå‡ºç°é”™è¯¯çš„è¯ï¼Œä¼šç«‹å³è·³å‡ºtryå—ï¼Œæ‰¾åˆ°åŒ¹é…çš„é”™è¯¯ï¼Œæ‰§è¡Œcatchå—é‡Œçš„è¯­å¥ æ­¤æ—¶ï¼Œå¯èƒ½åœ¨tryå—é‡Œæ‰“å¼€çš„æ–‡ä»¶æ²¡å…³é—­ï¼Œè¿æ¥çš„ç½‘ç»œæ²¡æ–­å¼€ï¼Œå¯¹è¿™äº›æµªè´¹çš„å†…å­˜å°±ä¸èƒ½åŠæ—¶é‡Šæ”¾å›æ”¶ã€‚ å¦‚æœæœ‰finallyå—çš„è¯ï¼Œä¸ç®¡æœ‰æ²¡æœ‰å‡ºé”™ï¼Œéƒ½ä¼šæ‰§è¡Œfinallyå—é‡Œçš„å†…å®¹ã€‚ å¦‚æœ catch ä¸­ return äº†ï¼Œfinally è¿˜ä¼šæ‰§è¡Œå—ï¼Ÿ **ä¼š** finallyçš„ä½œç”¨å°±æ˜¯ï¼Œæ— è®ºå‡ºç°ä»€ä¹ˆçŠ¶å†µï¼Œfinallyé‡Œçš„ä»£ç ä¸€å®šä¼šè¢«æ‰§è¡Œã€‚ å¦‚æœåœ¨catchä¸­returnäº†ï¼Œä¹Ÿä¼šåœ¨returnä¹‹å‰ï¼Œå…ˆæ‰§è¡Œfinallyä»£ç å—ã€‚ è€Œä¸”å¦‚æœfinallyä»£ç å—ä¸­å«æœ‰returnè¯­å¥ï¼Œä¼šè¦†ç›–å…¶ä»–åœ°æ–¹çš„returnã€‚ å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹çš„æ•°æ®ï¼Œåœ¨finallyå—ä¸­æ”¹å˜returnçš„å€¼å¯¹è¿”å›å€¼æ²¡æœ‰å½±å“ï¼Œè€Œå¯¹å¼•ç”¨æ•°æ®ç±»å‹çš„æ•°æ®ä¼šæœ‰å½±å“ã€‚ æ³¨ï¼šfinallyä¹Ÿä¸æ˜¯ä¸€å®šä¼šè¢«æ‰§è¡Œã€‚ ä»€ä¹ˆæƒ…å½¢ä¸‹ï¼Œfinallyä»£ç å—ä¸ä¼šæ‰§è¡Œï¼Ÿ 1. æ²¡æœ‰è¿›å…¥tryä»£ç å—ï¼› 2. System.exit()å¼ºåˆ¶é€€å‡ºç¨‹åºï¼› 3. å®ˆæŠ¤çº¿ç¨‹è¢«ç»ˆæ­¢ï¼› åˆå§‹åŒ–Beançš„æ–¹æ³• 1. springåŠ è½½é…ç½® Bean 2. å®ç° initializingBean æ¥å£çš„afterPropertiesSet()æ–¹æ³•ï¼ˆInitializingBean ä¸ºå®ç°è¯¥æ¥å£**çš„beanæä¾›é»˜è®¤çš„åˆå§‹åŒ–æ–¹æ³•**ï¼‰ 3. postProcessAfterInitialization()æ–¹æ³•é‡Œå®ç°è‡ªå®šä¹‰Beanï¼ˆBeanPostProcessor ä¸ºæ¯ä¸ª**beanå®ä¾‹åŒ–æ—¶æä¾›ä¸ªæ€§åŒ–çš„ä¿®æ”¹ï¼Œåšäº›åŒ…è£…ç­‰**ï¼‰ åŠ¨æ€ä»£ç†æ€ä¹ˆå®ç°ï¼Ÿ JDK åŠ¨æ€ä»£ç†çš„å®ç° é€šè¿‡JDKæä¾›çš„ä¸€ä¸ª`Proxy.newProxyInstance()`åˆ›å»ºä»£ç†å¯¹è±¡ï¼› 1234567891011121314151617181920212223242526272829303132333435363738394041424344import java.lang.reflect.InvocationHandler;import java.lang.reflect.Method;import java.lang.reflect.Proxy;// ä»£ç†çš„è¡Œä¸ºpublic interface ExecutorInterface &#123; void execute(int x, int y);&#125;// è¢«ä»£ç†çš„å¯¹è±¡public class Executor implements ExecutorInterface &#123; public void execute(int x, int y) &#123; if (x == 3) &#123; return; &#125; for (int i = 0; i &lt; 100; i++) &#123; if (y == 5) &#123; return; &#125; &#125; return; &#125;&#125;// handlerpublic class TimeLogHandler implements InvocationHandler &#123; private Object target; public TimeLogHandler(Object target) &#123; this.target = target; &#125; @Override public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123; log.info(&quot;startï¼š&#123;&#125;&quot;, System.nanoTime()); Object result = method.invoke(target, args); log.info(&quot;endï¼š&#123;&#125;&quot;, System.nanoTime()); return result; &#125;&#125;// ç”Ÿæˆä»£ç†ç±»Executor executor = (Executor) Proxy.newProxyInstance( Executor.class.getClassLoader(), new Class[]&#123;Executor.class&#125;, new TimeLogHandler); Spring é‡Œçš„åŠ¨æ€ä»£ç†å®ç° æä¾›çš„ ProxyFactory æœ‰ä¸€ä¸ª getProxy() æ–¹æ³•ï¼Œå®ç°ProxyFactoryæ¥å£é‡å†™ getProxy() æ–¹æ³•ï¼› 1234567891011121314151617181920212223242526272829303132public class JDKProxyFactory implements ProxyFactory &#123; @Override public &lt;T&gt; T getProxy(ReferenceWrapper&lt;T&gt; referenceWrapper) throws Throwable &#123; return (T) Proxy.newProxyInstance(referenceWrapper.getAimClass().getClassLoader(), new Class&lt;?&gt;[]&#123;referenceWrapper.getAimClass()&#125;, new JDKClientInvocationHandler(referenceWrapper)); &#125; &#125;// Proxy.newProxyInstanceæ˜¯JDKé™æ€æ–¹æ³•ï¼Œå‚æ•°ä¸‰ä¸ªï¼š// ClassLoader loader, // Class&lt;?&gt;[] interfaces, // InvocationHandler hå…¶ä¸­ï¼Œnew JDKClientInvocationHandler(referenceWrapper)çš„JDKClientInvocationHandlerç±»å®ç°äº†InvocationHandlerç±»ï¼Œé‡å†™invoke()æ–¹æ³•ï¼Œåœ¨è¯¥æ–¹æ³•é‡Œåšä»£ç†ç›¸å…³çš„å¤„ç†ã€‚// ä½¿ç”¨public class RpcReference &#123; public ProxyFactory proxyFactory; public RpcReference(ProxyFactory proxyFactory) &#123; this.proxyFactory = proxyFactory; &#125; /** * æ ¹æ®æ¥å£ç±»å‹è·å–ä»£ç†å¯¹è±¡ */ public &lt;T&gt; T get(ReferenceWrapper&lt;T&gt; referenceWrapper) throws Throwable&#123; return proxyFactory.getProxy(referenceWrapper); &#125; &#125;æ ¹æ®ç±»å‹è‡ªåŠ¨è·å–ä¸€ä¸ªå¯¹è±¡ åŸç† ä½¿ç”¨æµç¨‹ åˆ›å»ºÂ InvocationHandlerÂ å®ç°ï¼šå®šä¹‰ä¸€ä¸ªÂ InvocationHandlerÂ çš„å®ç°ï¼Œè¿™ä¸ªå®ç°ä¸­çš„Â invokeÂ æ–¹æ³•å¯ä»¥åŒ…å«è‡ªå®šä¹‰é€»è¾‘ã€‚ åˆ›å»ºä»£ç†å¯¹è±¡ï¼šä½¿ç”¨Â Proxy.newProxyInstanceÂ æ–¹æ³•ï¼Œä¼ å…¥ç›®æ ‡å¯¹è±¡çš„ç±»åŠ è½½å™¨ã€éœ€è¦ä»£ç†çš„æ¥å£æ•°ç»„ä»¥åŠÂ InvocationHandlerÂ çš„å®ç°ï¼Œæ¥åˆ›å»ºä¸€ä¸ªå®ç°äº†æŒ‡å®šæ¥å£çš„ä»£ç†å¯¹è±¡ã€‚ InvocationHandler æ˜¯åŠ¨æ€ä»£ç†çš„æ ¸å¿ƒæ¥å£ä¹‹ä¸€ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨åŠ¨æ€ä»£ç†æ¨¡å¼åˆ›å»ºä»£ç†å¯¹è±¡æ—¶ï¼Œä»»ä½•å¯¹ä»£ç†å¯¹è±¡çš„æ–¹æ³•è°ƒç”¨éƒ½ä¼šè¢«è½¬å‘åˆ°ä¸€ä¸ªå®ç°äº† InvocationHandler æ¥å£çš„å®ä¾‹çš„ invoke æ–¹æ³•ä¸Šã€‚ æˆ‘ä»¬ç»å¸¸çœ‹åˆ°InvocationHandler åŠ¨æ€ä»£ç†çš„åŒ¿åå†…éƒ¨ç±»ï¼Œè¿™ä¼šåœ¨ä»£ç†å¯¹è±¡çš„ç›¸åº”æ–¹æ³•è¢«è°ƒç”¨æ—¶æ‰§è¡Œã€‚å…·ä½“åœ°è¯´ï¼Œæ¯å½“å¯¹ä»£ç†å¯¹è±¡æ‰§è¡Œæ–¹æ³•è°ƒç”¨æ—¶ï¼Œè°ƒç”¨çš„æ–¹æ³•ä¸ä¼šç›´æ¥æ‰§è¡Œï¼Œè€Œæ˜¯è½¬å‘åˆ°å®ç°äº†InvocationHandler** çš„ invoke æ–¹æ³•ä¸Šã€‚åœ¨è¿™ä¸ª invoke æ–¹æ³•å†…éƒ¨ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰æ‹¦æˆªé€»è¾‘ã€è°ƒç”¨åŸå§‹å¯¹è±¡çš„æ–¹æ³•ã€ä¿®æ”¹è¿”å›å€¼ç­‰æ“ä½œ**ã€‚ é™æ€ä»£ç† 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768/** * å®šä¹‰è¡Œä¸º */public interface Marry &#123; public void toMarry();&#125;/** * é™æ€ä»£ç† â€”â€”&gt; ç›®æ ‡å¯¹è±¡ */public class You implements Marry &#123; // å®ç°è¡Œä¸º @Override public void toMarry() &#123; System.out.println(&quot;æˆ‘è¦ç»“å©šäº†...&quot;); &#125;&#125;/** * é™æ€ä»£ç† â€”â€”&gt; ä»£ç†å¯¹è±¡ */public class MarryCompanyProxy implements Marry &#123;â€‹ // ç›®æ ‡å¯¹è±¡ private Marry marry; // é€šè¿‡æ„é€ å™¨å°†ç›®æ ‡å¯¹è±¡ä¼ å…¥ public MarryCompanyProxy(Marry marry) &#123; this.marry = marry; &#125;â€‹ // å®ç°è¡Œä¸º @Override public void toMarry() &#123; // å¢å¼ºè¡Œä¸º before(); // æ‰§è¡Œç›®æ ‡å¯¹è±¡ä¸­çš„æ–¹æ³• marry.toMarry(); // å¢å¼ºè¡Œä¸º after(); &#125;â€‹ /** * å¢å¼ºè¡Œä¸º */ private void after() &#123; System.out.println(&quot;æ–°å©šå¿«ä¹ï¼Œæ—©ç”Ÿè´µå­ï¼&quot;); &#125;â€‹ /** * å¢å¼ºè¡Œä¸º */ private void before() &#123; System.out.println(&quot;åœºåœ°æ­£åœ¨å¸ƒç½®ä¸­...&quot;); &#125;&#125;ä½¿ç”¨ï¼š// ç›®æ ‡å¯¹è±¡You you = new You();// æ„é€ ä»£ç†è§’è‰²åŒæ—¶ä¼ å…¥çœŸå®è§’è‰²MarryCompanyProxy marryCompanyProxy = new MarryCompanyProxy(you);// é€šè¿‡ä»£ç†å¯¹è±¡è°ƒç”¨ç›®æ ‡å¯¹è±¡ä¸­çš„æ–¹æ³•marryCompanyProxy.toMarry(); é›¶æ‹·è´ é›¶æ‹·è´æŠ€æœ¯å®ç°çš„æ–¹å¼é€šå¸¸æœ‰ 2 ç§ï¼š mmap + write sendfile ä¸»è¦æ˜¯ä¸ºäº†å‡å°‘ å†…æ ¸ç¼“å†²åŒºçš„æ•°æ®æ‹·è´åˆ°ç”¨æˆ·çš„ç¼“å†²åŒº è¿™æ ·çš„åˆ‡æ¢ç”¨æˆ·&#x2F;å†…æ ¸æ€mmap()Â ç›´æ¥æŠŠå†…æ ¸ç¼“å†²åŒºé‡Œçš„æ•°æ®ã€Œæ˜ å°„ã€åˆ°ç”¨æˆ·ç©ºé—´ï¼Œå‡å°‘ä¸€æ¬¡åˆ‡æ¢ã€‚ Kafka è¿™ä¸ªå¼€æºé¡¹ç›®ï¼Œå°±åˆ©ç”¨äº†ã€Œé›¶æ‹·è´ã€æŠ€æœ¯ï¼Œä»è€Œå¤§å¹…æå‡äº† I&#x2F;O çš„ååç‡ï¼Œè¿™ä¹Ÿæ˜¯ Kafka åœ¨å¤„ç†æµ·é‡æ•°æ®ä¸ºä»€ä¹ˆè¿™ä¹ˆå¿«çš„åŸå› ä¹‹ä¸€ã€‚å¦‚æœä½ è¿½æº¯ Kafka æ–‡ä»¶ä¼ è¾“çš„ä»£ç ï¼Œä½ ä¼šå‘ç°ï¼Œæœ€ç»ˆå®ƒè°ƒç”¨äº† Java NIO åº“é‡Œçš„Â transferToæ–¹æ³• é¡¹ç›®æœ‰é‡åˆ°è¿‡å¾ªç¯ä¾èµ–å—ï¼Ÿå¦‚ä½•è§£å†³ ä¸»è¦å°±æ˜¯ é‡æ„ä»£ç ï¼› å¹³ç§» Aå’ŒBäº’ç›¸ä¾èµ–ï¼Œé‚£ä¹ˆå¯ä»¥å°†Bä¾èµ–Açš„é‚£éƒ¨åˆ†ä»£ç ï¼Œç§»åŠ¨åˆ°å·¥ç¨‹Bä¸­ï¼Œè¿™æ ·ä¸€æ¥ï¼ŒBå°±ä¸éœ€è¦ç»§ç»­ä¾èµ–Aï¼Œåªè¦Aä¾èµ–Bå°±å¯ä»¥äº†ï¼Œä»è€Œæ¶ˆé™¤å¾ªç¯ä¾èµ– ä¸‹ç§»ï¼Œæ¯”å¦‚Aå’ŒBäº’ç›¸ä¾èµ–ï¼ŒåŒæ—¶å®ƒä»¬éƒ½ä¾èµ–Cï¼Œé‚£ä¹ˆå¯ä»¥å°†Bå’ŒAç›¸äº’ä¾èµ–çš„é‚£éƒ¨åˆ†ä»£ç ï¼Œç§»åŠ¨åˆ°å·¥ç¨‹Cé‡Œï¼Œè¿™æ ·ä¸€æ¥ï¼ŒAå’ŒBç›¸äº’ä¹‹é—´éƒ½ä¸ä¾èµ–ï¼Œåªç»§ç»­ä¾èµ–Cï¼Œä¹Ÿå¯ä»¥æ¶ˆé™¤å¾ªç¯ä¾èµ– javaè¯»æ–‡ä»¶ 1.Mmapæ˜ å°„æ–‡ä»¶åˆ°å†…å­˜ï¼Œä¹‹åå†™å…¥ï¼Œåˆ·ç›˜ 2.java.io.FileInputStreamå’Œjava.io.FileOutputStream æ–¹å¼ 123FileInputStream fis = new FileInputStream(&quot;abc.txt&quot;); byte[] data = new byte[100]; int len = fis.read(data); 123FileOutputStream fos = new FileOutputStream(&quot;abc.txt&quot;,true); â€‹ fos.write(&quot;???&quot;.getBytes());"},{"title":"test1","path":"/posts/undefined.html","content":"source_posts\\test1\\JavaTBB.jpg","tags":["iOS","å¿ƒç‡"],"categories":["è®¾è®¡å¼€å‘","iOSå¼€å‘"]},{"title":"Hello World","path":"/posts/16107.html","content":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment"}]